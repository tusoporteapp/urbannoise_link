<!DOCTYPE html>
<html data-bs-theme="light" lang="es-419">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Urban Noise</title>
    <meta name="theme-color" content="#000000">
    <link rel="canonical" href="https://urbannoise.cc/bot.html">
    <meta property="og:url" content="https://urbannoise.cc/bot.html">
    <meta name="twitter:image" content="https://urbannoise.cc/assets/img/logo/LOGO_WEB.png">
    <meta name="twitter:title" content="UrbanNoise">
    <meta name="twitter:card" content="summary">
    <meta property="og:type" content="article">
    <meta property="og:title" content="UrbanNoise">
    <meta property="og:image" content="https://urbannoise.cc/assets/img/logo/LOGO_WEB.png">
    <link rel="icon" type="image/png" sizes="709x709" href="assets/img/logo/LOGO_WEB.png">
    <link rel="icon" type="image/png" sizes="709x709" href="assets/img/logo/LOGO_WEB.png" media="(prefers-color-scheme: dark)">
    <link rel="icon" type="image/png" sizes="709x709" href="assets/img/logo/LOGO_WEB.png">
    <link rel="icon" type="image/png" sizes="709x709" href="assets/img/logo/LOGO_WEB.png" media="(prefers-color-scheme: dark)">
    <link rel="icon" type="image/png" sizes="709x709" href="assets/img/logo/LOGO_WEB.png">
    <link rel="icon" type="image/png" sizes="709x709" href="assets/img/logo/LOGO_WEB.png">
    <link rel="icon" type="image/png" sizes="709x709" href="assets/img/logo/LOGO_WEB.png">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="manifest" href="manifest.json" crossorigin="use-credentials">
    <link rel="stylesheet" href="assets/css/bootstrap-icons.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Plus+Jakarta+Sans&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap">
    <link rel="stylesheet" href="assets/css/swiper-icons.css">
    <link rel="stylesheet" href="assets/css/bs-theme-overrides.css">
    <link rel="stylesheet" href="assets/css/vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/vendor/bootstrap-icons/bootstrap-icons.css">
    <link rel="stylesheet" href="assets/css/vendor/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" href="assets/css/css/main.css">
    <link rel="stylesheet" href="assets/css/Articles-Cards-images.css">
    <link rel="stylesheet" href="assets/css/Lightbox-Gallery-No-Gutters-baguetteBox.min.css">
    <link rel="stylesheet" href="assets/css/Navbar-Centered-Brand-Dark-icons.css">
    <link rel="stylesheet" href="assets/css/tallas.css">
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyAj9GLeYHfwhgI_oje28uowybe6hs2d4xw",
    authDomain: "urbannoise-aed65.firebaseapp.com",
    projectId: "urbannoise-aed65",
    storageBucket: "urbannoise-aed65.firebasestorage.app",
    messagingSenderId: "407971144874",
    appId: "1:407971144874:web:65d027fa5bb68b81fa9cd3",
    measurementId: "G-2C4W1QJLF1"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>

<!-- Manifiesto PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">
</head>

<body><!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualizador de Flujo de Chatbot - Urban Noise</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Dark Mode -->
    <!-- Application Structure Plan: Se ha rediseñado la SPA para una experiencia de pantalla completa. La ventana de chat ahora ocupa todo el viewport. Se ha añadido una barra de navegación fija en la parte inferior para los controles persistentes (volver, inicio), imitando el comportamiento de una aplicación nativa y separando la navegación del flujo de la conversación. -->
    <!-- Visualization & Content Choices: La simulación de chat sigue siendo el elemento central. La interacción se ha modificado significativamente: los botones de navegación se renderizan en un nuevo contenedor fijo en la parte inferior, controlado por una nueva propiedad 'nav: true' en el objeto de datos. El scroll del chat ahora se posiciona en la parte superior en la carga de nuevos mensajes para priorizar la lectura del mensaje del bot antes de ver las opciones. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #121212;
            color: #E0E0E0;
        }
        .chat-bubble {
            max-width: 85%;
            padding: 10px 16px;
            border-radius: 20px;
            line-height: 1.5;
        }
        .bot-bubble {
            background-color: #333333;
            border-bottom-left-radius: 4px;
            align-self: flex-start;
        }
        .option-button {
            transition: all 0.2s ease-in-out;
        }
        .option-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            background-color: #4a4a4a;
        }
        .link-button {
            display: inline-block;
            background-color: #555;
            color: #fff;
            font-size: 0.75rem;
            font-weight: bold;
            padding: 4px 10px;
            border-radius: 9999px;
            transition: background-color 0.2s ease;
            text-decoration: none;
            margin-left: 8px;
            cursor: pointer;
        }
        .link-button:hover {
            background-color: #777;
        }
        #modal-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body class="antialiased">

    <div class="bg-[#1e1e1e] w-screen h-screen flex flex-col">
        <header class="bg-[#2a2a2a] p-4 border-b border-gray-700 flex items-center justify-between flex-shrink-0">
            <div class="flex items-center">
                <div class="w-10 h-10 bg-black rounded-full flex items-center justify-center mr-3 overflow-hidden">
                    <img src="https://urbannoise.cc/assets/img/logo/lSOTIPO%20BLANCO%20WEB.png" alt="Logo Urban Noise" class="object-cover h-6">
                </div>
                <div>
                    <h3 class="font-bold text-base text-white">Urban Noise</h3>
                    <p class="text-xs text-gray-400">Asistente Virtual</p>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <div class="flex items-center gap-4">
                    <a href="https://www.instagram.com/urban_noise_/" target="_blank" title="Instagram" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.398 1.363.444 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.046 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.398-2.427.444-1.024.048-1.378.06-3.808.06s-2.784-.012-3.808-.06c-1.064-.046-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.398-1.363-.444-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.046-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.08 2.525c.636-.247 1.363-.398 2.427-.444C9.531 2.013 9.885 2 12.315 2zM12 8.118c-2.147 0-3.882 1.735-3.882 3.882s1.735 3.882 3.882 3.882 3.882-1.735 3.882-3.882S14.147 8.118 12 8.118zM12 14.473c-1.356 0-2.455-1.099-2.455-2.455s1.099-2.455 2.455-2.455 2.455 1.099 2.455 2.455-1.099 2.455-2.455 2.455zM16.802 6.118a1.2 1.2 0 100 2.4 1.2 1.2 0 000-2.4z" clip-rule="evenodd" /></svg>
                    </a>
                    <a href="https://www.tiktok.com/@urban_noise" target="_blank" title="TikTok" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-2.43.03-4.83-.95-6.43-2.98-1.59-2.02-2.06-4.58-1.7-7.18.31-2.25 1.94-4.22 3.8-5.57 1.22-.88 2.6-1.39 4.01-1.52.19-3.19.02-6.38.01-9.58z" /></svg>
                    </a>
                    <a href="https://wa.me/573108720491" target="_blank" title="WhatsApp" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M12.04 2c-5.46 0-9.91 4.45-9.91 9.91 0 1.75.46 3.45 1.32 4.95L2 22l5.25-1.38c1.45.79 3.08 1.21 4.79 1.21 5.46 0 9.91-4.45 9.91-9.91S17.5 2 12.04 2zM12.04 20.12c-1.48 0-2.93-.4-4.2-1.15l-.3-.18-3.12.82.83-3.04-.2-.31c-.82-1.31-1.26-2.83-1.26-4.38 0-4.54 3.7-8.24 8.24-8.24 4.54 0 8.24 3.7 8.24 8.24s-3.7 8.24-8.24 8.24zm4.52-6.16c-.25-.12-1.47-.72-1.7-.81-.23-.08-.39-.12-.56.12-.17.25-.64.81-.78.97-.14.17-.29.19-.54.06-.25-.12-1.06-.39-2.02-1.24-.75-.66-1.25-1.47-1.4-1.72-.14-.25-.02-.38.11-.51.11-.11.25-.29.37-.43.13-.14.17-.25.25-.41.08-.17.04-.31-.02-.43s-.56-1.34-.76-1.84c-.2-.48-.41-.42-.56-.42h-.48c-.17 0-.43.06-.66.31-.22.25-.86.85-.86 2.07s.88 2.4 1 2.56.86 1.39 2.98 2.66l.4.16c.49.2 1.02.28 1.42.28.69 0 1.26-.23 1.69-.82.4-.51.4-.95.28-1.07z" /></svg>
                    </a>
                </div>
            </div>
        </header>
        <main id="chat-simulation" class="flex-grow overflow-y-auto p-4 md:p-6 flex flex-col space-y-4 pb-40">
            <!-- Chat content is rendered here -->
        </main>
        <footer id="sticky-footer" class="fixed bottom-0 left-0 w-full bg-[#2a2a2a] border-t border-gray-700 flex flex-col z-10">
            <!-- Banner Container -->
            <div class="w-full h-20 bg-black">
                <!-- CAMBIA ESTA URL POR LA DE TU IMAGEN -->
                <img src="https://placehold.co/800x80/1e1e1e/ffffff?text=Tu+Banner+Aqu%C3%AD" alt="Banner" class="w-full h-full object-cover">
            </div>
            <!-- Navigation Buttons Container -->
            <div id="footer-buttons" class="w-full p-2.5 flex flex-wrap justify-center items-center gap-2">
                <!-- Navigation buttons are rendered here by JS -->
            </div>
        </footer>
    </div>

    <!-- Modal Structure -->
    <div id="page-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 hidden z-50">
        <div class="bg-[#1e1e1e] rounded-lg shadow-xl w-full h-full max-w-6xl flex flex-col">
            <div class="flex justify-between items-center p-4 bg-[#2a2a2a] rounded-t-lg border-b border-gray-700">
                <h3 class="text-lg font-semibold text-white">Vista Previa del Catálogo</h3>
                <button id="close-modal-button" class="text-white text-2xl font-bold hover:text-gray-400">&times;</button>
            </div>
            <div class="flex-grow p-1">
                <iframe id="modal-iframe" src="about:blank"></iframe>
            </div>
        </div>
    </div>

    <script>
        const chatContainer = document.getElementById('chat-simulation');
        const pageModal = document.getElementById('page-modal');
        const closeModalButton = document.getElementById('close-modal-button');
        const modalIframe = document.getElementById('modal-iframe');
        const stickyFooter = document.getElementById('sticky-footer');
        const footerButtonsContainer = document.getElementById('footer-buttons');

        const atencionMayorista = `\n\n👀 ATENCION 👀\nPara mayorista son compras superiores a 6 Unds.\nRecuerda que tenemos más clientes en línea, por lo tanto, es necesario verificar si las prendas de tu elección aún están disponibles. 📲\nNo manejamos pagos contra entrega 💰\nDebes asumir el costo del envió 🚚`;

        const chatbotFlow = {
            main: {
                message: `🌟 ¡Hola y bienvenido(a) a Urban Noise! 👋🏻`,
                options: [
                    { text: '1. 🛍️ Compra por Unidad', next: 'retail' },
                    { text: '2. 📦 Surtir mi negocio', next: 'wholesale' },
                    { text: '3. ℹ️ Más Información', next: 'info' },
                    { text: '4. 🗣️ Hablar con un agente', type: 'link', url: 'https://wa.me/573108720491?text=Me%20gustar%C3%ADa%20hablar%20con%20un%20agente' }
                ]
            },
            retail: {
                message: `Para mayor facilidad te dejo nuestra página. Acá puedes ver todos nuestros productos y realizar la compra directa 💳<br><a href="https://urbannoise.co" target="_blank" class="text-blue-400 font-semibold hover:underline">urbannoise.co</a>\n\nO también puedes ver el producto de tu interés y me escribes y coordinamos tu compra. 🤩\n\nQuedo atento a cualquier inquietud 🧐`,
                options: [ { text: '↩️ Volver al menú principal', next: 'main', nav: true } ]
            },
            wholesale: {
                message: '¿Qué categoría buscas para tu negocio?',
                options: [
                    { text: '1. 👕 Camisetas Oversize', next: 'wholesale_product_1' },
                    { text: '2. 🧥 Buzos', next: 'wholesale_product_2' },
                    { text: '3. 💪 Esqueletos', next: 'wholesale_product_3' },
                    { text: '4. 🩳 Bermudas', next: 'wholesale_product_4' },
                    { text: '5. 👖 Conjuntos', next: 'wholesale_product_5' },
                    { text: '6. 👩 Ropa para Dama', next: 'wholesale_product_6' },
                    { text: '7. 👦 Ropa para Niño', next: 'wholesale_product_7' },
                    { text: '8. ↩️ Volver al menú principal', next: 'main', nav: true }
                ]
            },
            info: {
                message: '¿Qué información necesitas?',
                options: [
                    { text: '1. 📍 Ubicación y Horarios', next: 'info_location' },
                    { text: '2. 🚚 Envíos y Métodos de Pago', next: 'info_shipping' },
                    { text: '3. 🔄 Políticas (Garantías y Cambios)', next: 'info_policies' },
                    { text: '4. 🏭 Información para Fabricación (Diseños Propios)', next: 'info_manufacturing' },
                    { text: '5. ↩️ Volver al menú principal', next: 'main', nav: true }
                ]
            },
            agent: {
                message: '¡Perfecto! En un momento uno de nuestros agentes se pondrá en contacto contigo por este mismo chat.',
                options: [ { text: '↩️ Volver al menú principal', next: 'main', nav: true } ]
            },
            wholesale_product_1: {
                message: `Precios 🤑 - Catálogo 📖\n“Camisetas Oversize al por mayor”:\nCaballero:\nAcid Wash $48.000 <button data-url="https://urbannoise.cc/caballero#AcidWash" class="link-button">Ver</button>\nOversize Burda $33.000 <button data-url="https://urbannoise.cc/caballero#OverBurda" class="link-button">Ver</button>\nOversize Galleta $33.000 <button data-url="https://urbannoise.cc/catalogo/Hombre/OverBurda/Tex.Galleta" class="link-button">Ver</button>\nDama:\nCamiseta Oversize $20.000 <button data-url="https://urbannoise.cc/damas#Camiseta" class="link-button">Ver</button>` + atencionMayorista,
                options: [ { text: 'Ver más productos', next: 'wholesale', nav: true }, { text: 'Ir al Inicio', next: 'main', nav: true } ]
            },
            wholesale_product_2: { 
                message: `Precios 🤑 - Catálogo 📖\n“Buzos al por mayor”:\nCaballero:\nDesde $70.000 <button data-url="https://urbannoise.cc/caballero#Busos" class="link-button">Ver</button>\nDama:\n$80.000 <button data-url="https://urbannoise.cc/damas#Busos" class="link-button">Ver</button>` + atencionMayorista, 
                options: [{ text: 'Ver más productos', next: 'wholesale', nav: true }, { text: 'Ir al Inicio', next: 'main', nav: true }] 
            },
            wholesale_product_3: { 
                message: `Precios 🤑 - Catálogo 📖\n“Esqueletos al por mayor”:\nCaballero:\n$30.000 <button data-url="https://urbannoise.cc/caballero#Esqueletos" class="link-button">Ver</button>` + atencionMayorista, 
                options: [{ text: 'Ver más productos', next: 'wholesale', nav: true }, { text: 'Ir al Inicio', next: 'main', nav: true }] 
            },
            wholesale_product_4: { 
                message: `Precios 🤑 - Catálogo 📖\n“Bermudas al por mayor”:\nCaballero:\n$32.000 <button data-url="https://urbannoise.cc/caballero#Bermudas" class="link-button">Ver</button>` + atencionMayorista, 
                options: [{ text: 'Ver más productos', next: 'wholesale', nav: true }, { text: 'Ir al Inicio', next: 'main', nav: true }] 
            },
            wholesale_product_5: { 
                message: `Precios 🤑 - Catálogo 📖\n“Conjuntos al por mayor”:\nCaballero:\nDesde $66.000 <button data-url="https://urbannoise.cc/caballero#Conjuntos" class="link-button">Ver</button>\nDama:\n$75.000 <button data-url="https://urbannoise.cc/damas#Conjuntos" class="link-button">Ver</button>` + atencionMayorista, 
                options: [{ text: 'Ver más productos', next: 'wholesale', nav: true }, { text: 'Ir al Inicio', next: 'main', nav: true }] 
            },
            wholesale_product_6: { 
                message: `Precios 🤑 - Catálogo 📖\n“Ropa para Dama al por mayor”:\nCatálogo completo <button data-url="https://urbannoise.cc/damas" class="link-button">Ver</button>` + atencionMayorista, 
                options: [{ text: 'Ver más productos', next: 'wholesale', nav: true }, { text: 'Ir al Inicio', next: 'main', nav: true }] 
            },
            wholesale_product_7: { 
                message: `Precios 🤑 - Catálogo 📖\n“Ropa para Niño al por mayor”:\nConjunto Camisa $50.000 <button data-url="https://urbannoise.cc/niños" class="link-button">Ver</button>` + atencionMayorista, 
                options: [{ text: 'Ver más productos', next: 'wholesale', nav: true }, { text: 'Ir al Inicio', next: 'main', nav: true }] 
            },
            info_location: {
                message: `Nuestra información:\n📍 Dirección: C.C. El Gran San, local 2268, Bogotá.\n🗺️ Google Maps: <a href="https://maps.app.goo.gl/36494su6GifD9X9PA" target="_blank" class="text-blue-400 font-semibold hover:underline">Ver en mapa</a>\n⏰ Horarios:\nL-M-J-V: 9:00 a.m. - 5:30 p.m.\nMiércoles y Sábados: 5:00 a.m. - 5:00 p.m.`,
                options: [{ text: '↩️ Volver a Información', next: 'info', nav: true }, { text: '🏠 Ir al Inicio', next: 'main', nav: true }]
            },
            info_shipping: {
                message: 'Selecciona una opción sobre Envíos y Pagos:',
                options: [
                    { text: '1. 🛵 Pago Contra Entrega', next: 'info_shipping_cod' },
                    { text: '2. 💳 Métodos de Pago', next: 'info_shipping_methods' },
                    { text: '3. ✈️ Envíos Nacionales/Internacionales', next: 'info_shipping_nat' },
                    { text: '4. ↩️ Volver', next: 'info', nav: true }
                ]
            },
            info_policies: {
                message: `Resumen de políticas:\nGarantía: 60 días por defectos de fábrica.\nCambios: Solo por talla o defecto.\nDevolución de Dinero: Solo por defecto de fábrica.`,
                options: [{ text: '↩️ Volver a Información', next: 'info', nav: true }, { text: '🏠 Ir al Inicio', next: 'main', nav: true }]
            },
            info_manufacturing: {
                message: `Sobre diseños propios:\nNo personalizamos al detal.\nPara pedidos mayoristas (mínimo 80 prendas), se requiere un estudio previo. Un agente debe manejar estos casos para definir detalles y costos.`,
                options: [{ text: '↩️ Volver a Información', next: 'info', nav: true }, { text: '🏠 Ir al Inicio', next: 'main', nav: true }]
            },
            info_shipping_cod: {
                message: `Sobre el pago contra entrega:\nEn Bogotá: El envío a domicilio cuesta $11.000.\nFuera de Bogotá: La transportadora cobra una comisión del 5% sobre el valor del producto.`,
                options: [{ text: '↩️ Volver a Envíos y Pagos', next: 'info_shipping', nav: true }, { text: '🏠 Ir al Inicio', next: 'main', nav: true }]
            },
            info_shipping_methods: {
                message: `Métodos de pago aceptados:\nPedidos por WhatsApp: Efectivo, Nequi, Daviplata.\nCompras en la web: Todos los métodos, incluyendo tarjetas de crédito/débito.`,
                options: [{ text: '↩️ Volver a Envíos y Pagos', next: 'info_shipping', nav: true }, { text: '🏠 Ir al Inicio', next: 'main', nav: true }]
            },
            info_shipping_nat: {
                message: `Información de envíos:\nNacionales: Hacemos envíos a todo el país. El costo depende del peso y volumen.\nInternacionales: Para envíos fuera de Colombia, es necesario que te atienda un agente.`,
                options: [{ text: '↩️ Volver a Envíos y Pagos', next: 'info_shipping', nav: true }, { text: '🏠 Ir al Inicio', next: 'main', nav: true }]
            }
        };

        function renderFlow(flowKey) {
            const flow = chatbotFlow[flowKey];
            if (!flow) return;

            chatContainer.innerHTML = '';
            footerButtonsContainer.innerHTML = '';

            const bubble = document.createElement('div');
            bubble.className = 'chat-bubble bot-bubble text-gray-200 text-sm';
            bubble.innerHTML = flow.message.replace(/\n/g, '<br>');
            chatContainer.appendChild(bubble);

            const optionsContainer = document.createElement('div');
            optionsContainer.className = 'flex flex-col items-center space-y-3 mt-4 w-full';

            flow.options.forEach(opt => {
                let element;
                const isLink = opt.type === 'link';
                const isNav = opt.nav === true;

                if (isLink) {
                    element = document.createElement('a');
                    element.href = opt.url;
                    element.target = '_blank';
                } else {
                    element = document.createElement('button');
                    element.dataset.next = opt.next;
                }
                
                element.textContent = opt.text;

                if (isNav) {
                    element.className = 'option-button flex-grow text-center bg-[#3a3a3a] border border-gray-600 text-gray-200 font-semibold py-2 px-3 rounded-lg shadow-sm text-xs';
                    footerButtonsContainer.appendChild(element);
                } else {
                    element.className = 'option-button text-center w-full md:w-3/4 bg-[#2a2a2a] border border-gray-600 text-gray-200 font-semibold py-3 px-4 rounded-lg shadow-sm text-sm';
                    optionsContainer.appendChild(element);
                }
            });

            chatContainer.appendChild(optionsContainer);
            chatContainer.scrollTop = 0; // Scroll to top
        }

        function openModal(url) {
            modalIframe.src = url;
            pageModal.classList.remove('hidden');
        }

        function closeModal() {
            modalIframe.src = 'about:blank';
            pageModal.classList.add('hidden');
        }

        function handleInteraction(e) {
            const target = e.target.closest('button, a');
            if (!target) return;

            if (target.dataset.next) {
                renderFlow(target.dataset.next);
            }
            if (target.dataset.url) {
                e.preventDefault();
                openModal(target.dataset.url);
            }
        }

        chatContainer.addEventListener('click', handleInteraction);
        stickyFooter.addEventListener('click', handleInteraction);
        
        closeModalButton.addEventListener('click', closeModal);
        pageModal.addEventListener('click', function(e) {
            if (e.target === pageModal) {
                closeModal();
            }
        });

        renderFlow('main');
    </script>
</body>
</html>

    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/bs-init.js"></script>
    <script src="assets/js/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/vendor/php-email-form/validate.js"></script>
    <script src="assets/js/vendor/aos/aos.js"></script>
    <script src="assets/js/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/js/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/js/js/main.js"></script>
    <script src="assets/js/atras.js"></script>
    <script src="assets/js/blogger.js"></script>
    <script src="assets/js/compartir.js"></script>
    <script src="assets/js/Lightbox-Gallery-No-Gutters-baguetteBox.min.js"></script>
    <script src="assets/js/Lightbox-Gallery-No-Gutters-Lightbox-Gallery.js"></script>
    <script src="assets/js/pagina.js"></script>
    <script src="assets/js/search.js"></script>
    <script src="assets/js/WhatsApp%20Camisetas.js"></script>
</body>

</html>