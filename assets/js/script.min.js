document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll('[data-bs-toggle="toast"]');for(let a of e)a.addEventListener("click",(function(){var e=a.getAttribute("data-bs-target");if(e)try{var o=document.querySelector(e);if(!o)return;new bootstrap.Toast(o).show()}catch(e){console.error(e)}}));var a=document.querySelectorAll("[data-bss-dynamic-product]");for(var o of a){var t=o.dataset.bssDynamicProductParam;o.dataset.reflowProduct=new URL(location.href).searchParams.get(t)}}),!1),function(){"use strict";!function(){if("requestAnimationFrame"in window&&!/Mobile|Android/.test(navigator.userAgent)){var e=document.querySelectorAll("[data-bss-parallax]");if(e.length){var a,o=[];window.addEventListener("scroll",t),window.addEventListener("resize",t),t()}}function t(){o.length=0;for(var t=0;t<e.length;t++){var n=e[t].getBoundingClientRect(),s=parseFloat(e[t].getAttribute("data-bss-parallax-speed"),10)||.5;n.bottom>0&&n.top<window.innerHeight&&o.push({speed:s,node:e[t]})}cancelAnimationFrame(a),o.length&&(a=requestAnimationFrame(r))}function r(){for(var e=0;e<o.length;e++){var a=o[e].node,t=o[e].speed;a.style.transform="translate3d(0, "+-window.scrollY*t+"px, 0)"}}}()}(),document.getElementById("compartir").addEventListener("click",(async function(){const e=window.location.href,a=`Te recomienda este catalogo, de UrbanNoise, es una marca urbana colombiana con excelente calidad. ${e}`;if(navigator.share)try{await navigator.share({title:"UrbanNoise",text:a,url:e}),console.log("Contenido compartido con éxito.")}catch(e){console.error("Error al compartir:",e)}else console.log("La Web Share API no es compatible con este navegador.")})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("chat-toggle-button"),a=document.getElementById("chat-container"),o=document.getElementById("close-chat-btn"),t=document.getElementById("chat-messages"),r=document.getElementById("chat-options"),n=document.getElementById("chat-callout"),s=document.getElementById("agentContactModal"),i=document.getElementById("agent-form"),c=document.getElementById("send-to-whatsapp-btn");if(!(e&&a&&s&&i&&c&&n))return void console.error("No se encontraron todos los elementos necesarios para el chatbot, el modal o la burbuja.");const l=new bootstrap.Modal(s);let d=!1;const b={start:{message:"🌟 ¡Hola y bienvenido(a) a Urban Noise! 👋🏻",options:{1:{text:"🛍️ Compra por Unidad",next:"unidad"},2:{text:"📦 Surtir mi negocio",next:"mayorista"},3:{text:"ℹ️ Más Información",next:"info"},4:{text:"🗣️ Hablar con un agente",next:"agente"}}},unidad:{message:"Para mayor facilidad te dejo nuestra página. Acá puedes ver todos nuestros productos y realizar la compra directa 💳<br><a href='http://urbannoise.co' target='_blank'>urbannoise.co</a><br><br>O también puedes ver el producto de tu interés y me escribes y coordinamos tu compra. 🤩<br><br>Quedo atento a cualquier inquietud 🧐",options:{inicio:{text:"↩️ Volver al menú principal",next:"start"}}},mayorista:{message:"¿Qué categoría buscas para tu negocio?",options:{1:{text:"👕 Camisetas Oversize",next:"mayorista_camisetas"},2:{text:"🧥 Buzos",next:"mayorista_buzos"},3:{text:"💪 Esqueletos",next:"mayorista_esqueletos"},4:{text:"🩳 Bermudas",next:"mayorista_bermudas"},5:{text:"👖 Conjuntos",next:"mayorista_conjuntos"},6:{text:"👩 Ropa para Dama",next:"mayorista_dama"},7:{text:"👦 Ropa para Niño",next:"mayorista_nino"},8:{text:"↩️ Volver al menú principal",next:"start"}}},mayorista_camisetas:{message:"<b>Precios 🤑 - Catálogo 📖</b><br>“Camisetas Oversize al por mayor”:<br><u>Caballero:</u><br>Acid Wash $48.000 👉 <a href='http://urbannoise.cc/caballero#AcidWash' target='_blank'>Ver catálogo</a><br>Oversize Burda $33.000 👉 <a href='http://urbannoise.cc/caballero#OverBurda' target='_blank'>Ver catálogo</a><br>Oversize Galleta $33.000 👉 <a href='http://urbannoise.cc/catalogo/Hombre/OverBurda/Tex.Galleta' target='_blank'>Ver catálogo</a><br><u>Dama:</u><br>Camiseta Oversize $20.000 👉 <a href='http://urbannoise.cc/damas#Camiseta' target='_blank'>Ver catálogo</a><br><br><b>👀 ATENCION 👀</b><br>Para mayorista son compras superiores a 6 Unds.<br>Recuerda que tenemos más clientes en línea, por lo tanto, es necesario verificar si las prendas de tu elección aún están disponibles. 📲<br>No manejamos pagos contra entrega 💰<br>Debes asumir el costo del envió 🚚",options:{productos:{text:"↩️ Volver a productos",next:"mayorista"},inicio:{text:"🏠 Volver al inicio",next:"start"}}},mayorista_buzos:{message:"<b>Precios 🤑 - Catálogo 📖</b><br>“Buzos al por mayor”:<br><u>Caballero:</u><br>Desde $70.000 👉 <a href='http://urbannoise.cc/caballero#Busos' target='_blank'>Ver catálogo</a><br><u>Dama:</u><br>$80.000 👉 <a href='http://urbannoise.cc/damas#Busos' target='_blank'>Ver catálogo</a><br><br><b>👀 ATENCION 👀</b><br>Para mayorista son compras superiores a 6 Unds.<br>Recuerda que tenemos más clientes en línea, por lo tanto, es necesario verificar si las prendas de tu elección aún están disponibles. 📲<br>No manejamos pagos contra entrega 💰<br>Debes asumir el costo del envió 🚚",options:{productos:{text:"↩️ Volver a productos",next:"mayorista"},inicio:{text:"🏠 Volver al inicio",next:"start"}}},mayorista_esqueletos:{message:"<b>Precios 🤑 - Catálogo 📖</b><br>“Esqueletos al por mayor”:<br><u>Caballero:</u><br>$30.000 👉 <a href='http://urbannoise.cc/caballero#Esqueletos' target='_blank'>Ver catálogo</a><br><br><b>👀 ATENCION 👀</b><br>Para mayorista son compras superiores a 6 Unds.<br>Recuerda que tenemos más clientes en línea, por lo tanto, es necesario verificar si las prendas de tu elección aún están disponibles. 📲<br>No manejamos pagos contra entrega 💰<br>Debes asumir el costo del envió 🚚",options:{productos:{text:"↩️ Volver a productos",next:"mayorista"},inicio:{text:"🏠 Volver al inicio",next:"start"}}},mayorista_bermudas:{message:"<b>Precios 🤑 - Catálogo 📖</b><br>“Bermudas al por mayor”:<br><u>Caballero:</u><br>$32.000 👉 <a href='http://urbannoise.cc/caballero#Bermudas' target='_blank'>Ver catálogo</a><br><br><b>👀 ATENCION 👀</b><br>Para mayorista son compras superiores a 6 Unds.<br>Recuerda que tenemos más clientes en línea, por lo tanto, es necesario verificar si las prendas de tu elección aún están disponibles. 📲<br>No manejamos pagos contra entrega 💰<br>Debes asumir el costo del envió 🚚",options:{productos:{text:"↩️ Volver a productos",next:"mayorista"},inicio:{text:"🏠 Volver al inicio",next:"start"}}},mayorista_conjuntos:{message:"<b>Precios 🤑 - Catálogo 📖</b><br>“Conjuntos al por mayor”:<br><u>Caballero:</u><br>Desde $66.000 👉 <a href='http://urbannoise.cc/caballero#Conjuntos' target='_blank'>Ver catálogo</a><br><u>Dama:</u><br>$75.000 👉 <a href='http://urbannoise.cc/damas#Conjuntos' target='_blank'>Ver catálogo</a><br><br><b>👀 ATENCION 👀</b><br>Para mayorista son compras superiores a 6 Unds.<br>Recuerda que tenemos más clientes en línea, por lo tanto, es necesario verificar si las prendas de tu elección aún están disponibles. 📲<br>No manejamos pagos contra entrega 💰<br>Debes asumir el costo del envió 🚚",options:{productos:{text:"↩️ Volver a productos",next:"mayorista"},inicio:{text:"🏠 Volver al inicio",next:"start"}}},mayorista_dama:{message:"<b>Precios 🤑 - Catálogo 📖</b><br>“Ropa para Dama al por mayor”:<br>Catálogo completo 👉 <a href='http://urbannoise.cc/damas' target='_blank'>Ver catálogo</a><br><br><b>👀 ATENCION 👀</b><br>Para mayorista son compras superiores a 6 Unds.<br>Recuerda que tenemos más clientes en línea, por lo tanto, es necesario verificar si las prendas de tu elección aún están disponibles. 📲<br>No manejamos pagos contra entrega 💰<br>Debes asumir el costo del envió 🚚",options:{productos:{text:"↩️ Volver a productos",next:"mayorista"},inicio:{text:"🏠 Volver al inicio",next:"start"}}},mayorista_nino:{message:"<b>Precios 🤑 - Catálogo 📖</b><br>“Ropa para Niño al por mayor”:<br>Conjunto Camisa $50.000 👉 <a href='http://urbannoise.cc/niños' target='_blank'>Ver catálogo</a><br><br><b>👀 ATENCION 👀</b><br>Para mayorista son compras superiores a 6 Unds.<br>Recuerda que tenemos más clientes en línea, por lo tanto, es necesario verificar si las prendas de tu elección aún están disponibles. 📲<br>No manejamos pagos contra entrega 💰<br>Debes asumir el costo del envió 🚚",options:{productos:{text:"↩️ Volver a productos",next:"mayorista"},inicio:{text:"🏠 Volver al inicio",next:"start"}}},info:{message:"¿Qué información necesitas?",options:{1:{text:"📍 Ubicación y Horarios",next:"info_ubicacion"},2:{text:"🚚 Envíos y Métodos de Pago",next:"info_pagos"},3:{text:"🔄 Políticas (Garantías y Cambios)",next:"info_politicas"},4:{text:"🏭 Info para Fabricación",next:"info_fabricacion"},5:{text:"↩️ Volver al menú principal",next:"start"}}},info_ubicacion:{message:"<b>Nuestra información:</b><br>📍 Dirección: C.C. El Gran San, local 2268, Bogotá.<br>🗺️ Google Maps: <a href='https://maps.app.goo.gl/36494su6GifD9X9PA' target='_blank'>Ver en mapa</a><br>⏰ Horarios:<br>L-M-J-V: 9:00 a.m. - 5:30 p.m.<br>Miércoles y Sábados: 5:00 a.m. - 5:00 p.m.",options:{inicio:{text:"↩️ Volver al menú principal",next:"start"}}},info_pagos:{message:"Selecciona una opción:",options:{1:{text:"🛵 Pago Contra Entrega",next:"pagos_contraentrega"},2:{text:"💳 Métodos de Pago",next:"pagos_metodos"},3:{text:"✈️ Envíos Nacionales/Internacionales",next:"pagos_envios"},4:{text:"↩️ Volver",next:"info"}}},info_politicas:{message:"<b>Resumen de políticas:</b><br><u>Garantía:</u> 60 días por defectos de fábrica.<br><u>Cambios:</u> Solo por talla o defecto.<br><u>Devolución de Dinero:</u> Solo por defecto de fábrica.",options:{inicio:{text:"↩️ Volver al menú principal",next:"start"}}},info_fabricacion:{message:"<b>Sobre diseños propios:</b><br>No personalizamos al detal.<br>Para pedidos mayoristas (mínimo 80 prendas), se requiere un estudio previo. Un agente debe manejar estos casos para definir detalles y costos.",options:{inicio:{text:"↩️ Volver al menú principal",next:"start"}}},pagos_contraentrega:{message:"<b>Sobre el pago contra entrega:</b><br><u>En Bogotá:</u> El envío a domicilio cuesta $11.000.<br><u>Fuera de Bogotá:</u> La transportadora cobra una comisión del 5% sobre el valor del producto.",options:{pagos:{text:"↩️ Volver a envíos y pagos",next:"info_pagos"},inicio:{text:"🏠 Volver al inicio",next:"start"}}},pagos_metodos:{message:"<b>Métodos de pago aceptados:</b><br><u>Pedidos por WhatsApp:</u> Efectivo, Nequi, Daviplata.<br><u>Compras en la web:</u> Todos los métodos, incluyendo tarjetas de crédito/débito.",options:{pagos:{text:"↩️ Volver a envíos y pagos",next:"info_pagos"},inicio:{text:"🏠 Volver al inicio",next:"start"}}},pagos_envios:{message:"<b>Información de envíos:</b><br><u>Nacionales:</u> Hacemos envíos a todo el país. El costo depende del peso y volumen.<br><u>Internacionales:</u> Para envíos fuera de Colombia, es necesario que te atienda un agente.",options:{pagos:{text:"↩️ Volver a envíos y pagos",next:"info_pagos"},inicio:{text:"🏠 Volver al inicio",next:"start"}}}},m=()=>{a.classList.toggle("active"),n&&(n.style.display="none"),a.classList.contains("active")&&!d&&u()},u=()=>{x("start"),d=!0},p=(e,a)=>{const o=document.createElement("div");o.classList.add("message",`${e}-message`);const r=document.createElement("div");r.classList.add("message-content"),r.innerHTML=a,o.appendChild(r),t.appendChild(o),t.scrollTop=t.scrollHeight},g=e=>{r.innerHTML="",r.style.display=0===Object.keys(e).length?"none":"block";for(const a in e){const o=document.createElement("button");o.type="button",o.classList.add("btn","btn-outline-primary"),o.innerHTML=e[a].text,o.dataset.next=e[a].next,o.dataset.text=e[a].text,o.addEventListener("click",v),r.appendChild(o)}},v=e=>{const o=e.currentTarget.dataset.next,t=e.currentTarget.dataset.text;p("user",t),"agente"===o?(p("bot","¡Perfecto! Por favor, completa el siguiente formulario para contactar a un agente."),setTimeout((()=>{a.classList.remove("active"),l.show()}),1e3)):setTimeout((()=>x(o)),500)},x=e=>{const a=b[e];a?(p("bot",a.message),g(a.options)):(p("bot","No he entendido tu solicitud. Por favor, elige una de las opciones."),g(b.start.options))};e.addEventListener("click",m),o.addEventListener("click",m),c.addEventListener("click",(e=>{if(i.classList.add("was-validated"),!i.checkValidity())return e.preventDefault(),void e.stopPropagation();let a="*Nueva solicitud de asistencia:*\n\n";a+=`*Nombre:* ${document.getElementById("fullName").value}\n`,a+=`*Motivo:* ${document.getElementById("reason").value}\n`,a+=`*Mensaje:*\n${document.getElementById("customMessage").value}`;const o=`https://wa.me/573108720491?text=${encodeURIComponent(a)}`;window.open(o,"_blank"),l.hide(),i.reset(),i.classList.remove("was-validated")})),s.addEventListener("hidden.bs.modal",(()=>{i.reset(),i.classList.remove("was-validated")}))}));